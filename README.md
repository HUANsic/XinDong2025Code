# èŠ¯åŠ¨è®¡åˆ’2025 - TC377TXæ™ºèƒ½è½¦é¡¹ç›®

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯åŸºäºè‹±é£å‡ŒTC377TXä¸‰æ ¸å¾®æ§åˆ¶å™¨çš„æ™ºèƒ½è½¦æ§åˆ¶ç³»ç»Ÿï¼Œä¸“ä¸ºèŠ¯åŠ¨è®¡åˆ’2025è®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨å¤šæ ¸å¹¶è¡Œå¤„ç†æ¶æ„ï¼Œé›†æˆäº†è®¡ç®—æœºè§†è§‰ã€è¿åŠ¨æ§åˆ¶ã€ä¼ æ„Ÿå™¨èåˆç­‰å…ˆè¿›æŠ€æœ¯ï¼Œå®ç°æ™ºèƒ½å¾ªè¿¹ã€é¿éšœã€é€šä¿¡ç­‰åŠŸèƒ½ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### å¤šæ ¸å¤„ç†å™¨æ¶æ„
- **CPU0**: ä¸»æ§åˆ¶æ ¸å¿ƒï¼Œè´Ÿè´£ç³»ç»Ÿåˆå§‹åŒ–ã€å®‰å…¨ç›‘æ§å’Œåè°ƒ
- **CPU1**: å›¾åƒå¤„ç†æ ¸å¿ƒï¼Œä¸“é—¨å¤„ç†æ‘„åƒå¤´æ•°æ®å’Œè®¡ç®—æœºè§†è§‰ç®—æ³•
- **CPU2**: è¿åŠ¨æ§åˆ¶æ ¸å¿ƒï¼Œè´Ÿè´£ç”µæœºæ§åˆ¶ã€ä¼ æ„Ÿå™¨è¯»å–å’Œé€šä¿¡

### ç¡¬ä»¶å¹³å°
- **ä¸»æ§èŠ¯ç‰‡**: Infineon TC377TX (TriCoreâ„¢)
- **å›¾åƒä¼ æ„Ÿå™¨**: OV7670æ‘„åƒå¤´ (188Ã—120åˆ†è¾¨ç‡)
- **è¿åŠ¨ç³»ç»Ÿ**: åŒè½®å·®é€Ÿé©±åŠ¨ + ç¼–ç å™¨åé¦ˆ
- **ä¼ æ„Ÿå™¨**: MPU6050 IMUã€è¶…å£°æ³¢ä¼ æ„Ÿå™¨ã€å¹²ç°§ç®¡
- **é€šä¿¡**: è“ç‰™æ¨¡å—ã€ä¸²å£é€šä¿¡
- **æ˜¾ç¤º**: OLEDæ˜¾ç¤ºå±

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. å›¾åƒå¤„ç†ç³»ç»Ÿ (CVæ¨¡å—)
- **å®æ—¶å›¾åƒé‡‡é›†**: 188Ã—120åˆ†è¾¨ç‡ï¼Œ30fps
- **ä¸‰ç¼“å†²ç®¡ç†**: é¿å…æ•°æ®ç«äº‰ï¼Œç¡®ä¿å›¾åƒå®Œæ•´æ€§
- **æ™ºèƒ½ä¸­çº¿æ£€æµ‹**: 
  - ä»ä¸‹å¾€ä¸Šæ‰«æç®—æ³•
  - è‡ªé€‚åº”åˆ†å‰²çº¿æŠ€æœ¯
  - è¡¥çº¿æ–¹å‘åˆ¤æ–­
  - åå·®è®¡ç®—ä¸è¾“å‡º

### 2. è¿åŠ¨æ§åˆ¶ç³»ç»Ÿ
- **åŒè½®å·®é€Ÿé©±åŠ¨**: ç²¾ç¡®çš„è½¬å‘æ§åˆ¶
- **ç¼–ç å™¨åé¦ˆ**: å®æ—¶é€Ÿåº¦æµ‹é‡
- **PIDæ§åˆ¶ç®—æ³•**: ç¨³å®šçš„è¿åŠ¨æ§åˆ¶
- **å¤šç§è¿åŠ¨æ¨¡å¼**: ç›´çº¿ã€è½¬å¼¯ã€åœè½¦ç­‰

### 3. ä¼ æ„Ÿå™¨èåˆ
- **IMUæ•°æ®**: å§¿æ€è§’ã€åŠ é€Ÿåº¦ã€è§’é€Ÿåº¦
- **è¶…å£°æ³¢æµ‹è·**: éšœç¢ç‰©æ£€æµ‹
- **å¹²ç°§ç®¡**: ä½ç½®æ£€æµ‹
- **ç”µä½å™¨**: å‚æ•°è°ƒèŠ‚

### 4. é€šä¿¡ç³»ç»Ÿ
- **è“ç‰™é€šä¿¡**: æ— çº¿æ•°æ®ä¼ è¾“
- **ä¸²å£é€šä¿¡**: è°ƒè¯•å’Œå‚æ•°é…ç½®
- **å¤šæ ¸é—´é€šä¿¡**: æ ¸å¿ƒé—´æ•°æ®åŒæ­¥

## ğŸ“ é¡¹ç›®ç»“æ„

```
XinDong2025Code/
â”œâ”€â”€ XinDong_TC377TX_Demo_v0_1/          # ä¸»é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ Cpu0_Main.c                     # CPU0ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ Cpu1_Main.c                     # CPU1ä¸»ç¨‹åº  
â”‚   â”œâ”€â”€ Cpu2_Main.c                     # CPU2ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ XinDongLib/                     # æ ¸å¿ƒåº“æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ Camera.c/h                  # æ‘„åƒå¤´é©±åŠ¨
â”‚   â”‚   â”œâ”€â”€ CV.c/h                      # è®¡ç®—æœºè§†è§‰ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ Movements.c/h               # è¿åŠ¨æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ IMU.c/h                     # æƒ¯æ€§æµ‹é‡å•å…ƒ
â”‚   â”‚   â”œâ”€â”€ Encoder.c/h                 # ç¼–ç å™¨
â”‚   â”‚   â”œâ”€â”€ Ultrasonic.c/h              # è¶…å£°æ³¢ä¼ æ„Ÿå™¨
â”‚   â”‚   â”œâ”€â”€ Bluetooth.c/h               # è“ç‰™é€šä¿¡
â”‚   â”‚   â”œâ”€â”€ Display.c/h                 # OLEDæ˜¾ç¤º
â”‚   â”‚   â”œâ”€â”€ Serial.c/h                  # ä¸²å£é€šä¿¡
â”‚   â”‚   â”œâ”€â”€ Time.c/h                    # æ—¶é—´ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ IO.c/h                      # è¾“å…¥è¾“å‡ºæ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ Intercore.c/h               # å¤šæ ¸é€šä¿¡
â”‚   â”‚   â”œâ”€â”€ Interrupts.c/h              # ä¸­æ–­ç®¡ç†
â”‚   â”‚   â””â”€â”€ XinDong_Config.h            # ç³»ç»Ÿé…ç½®
â”‚   â””â”€â”€ Libraries/                      # è‹±é£å‡Œåº•å±‚åº“
â””â”€â”€ xindong_template_tc377tx/           # é¡¹ç›®æ¨¡æ¿
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **å¼€å‘å·¥å…·**: Infineon AURIX Development Studio
- **ç¼–è¯‘å™¨**: Tasking VX Toolset for TriCore
- **ç¡¬ä»¶**: TC377TXå¼€å‘æ¿åŠç›¸å…³å¤–è®¾

### ç¼–è¯‘æ­¥éª¤
1. æ‰“å¼€AURIX Development Studio
2. å¯¼å…¥é¡¹ç›®: `File â†’ Import â†’ Existing Projects into Workspace`
3. é€‰æ‹©é¡¹ç›®ç›®å½•: `XinDong_TC377TX_Demo_v0_1`
4. é…ç½®ç¼–è¯‘é€‰é¡¹å’Œé“¾æ¥è„šæœ¬
5. ç¼–è¯‘é¡¹ç›®: `Project â†’ Build All`

### çƒ§å½•ç¨‹åº
1. è¿æ¥è°ƒè¯•å™¨ (å¦‚J-Link)
2. é…ç½®è°ƒè¯•è®¾ç½®
3. ä¸‹è½½ç¨‹åºåˆ°ç›®æ ‡æ¿
4. å¯åŠ¨è°ƒè¯•æˆ–è¿è¡Œ

## ğŸ’¡ ä½¿ç”¨æŒ‡å—

### å›¾åƒå¤„ç†ä½¿ç”¨
```c
#include "XinDongLib/CV.h"

// åœ¨ä¸»å¾ªç¯ä¸­è°ƒç”¨
CV_Result_t cv_result = CV_ProcessImage();

if (cv_result.valid) {
    int16 error = cv_result.error;      // è·å–åå·®å€¼
    int16 buxian = g_buxian;            // è·å–è¡¥çº¿æ–¹å‘
    
    // æ ¹æ®åå·®æ§åˆ¶è½¬å‘
    if (error > 0) {
        // å³è½¬æ§åˆ¶
    } else if (error < 0) {
        // å·¦è½¬æ§åˆ¶
    }
}
```

### è¿åŠ¨æ§åˆ¶ä½¿ç”¨
```c
#include "XinDongLib/Movements.h"

// è®¾ç½®è¿åŠ¨å‚æ•°
Movements_SetSpeed(50);     // è®¾ç½®é€Ÿåº¦
Movements_SetDirection(1);  // è®¾ç½®æ–¹å‘

// æ‰§è¡Œè¿åŠ¨
Movements_Start();
```

### ä¼ æ„Ÿå™¨è¯»å–
```c
#include "XinDongLib/IMU.h"
#include "XinDongLib/Ultrasonic.h"

// è¯»å–IMUæ•°æ®
float angle = IMU_GetAngle();
float accel = IMU_GetAcceleration();

// è¯»å–è¶…å£°æ³¢è·ç¦»
uint16 distance = Ultrasonic_GetDistance();
```

## ğŸ”§ é…ç½®è¯´æ˜

### å¼•è„šé…ç½®
æ‰€æœ‰ç¡¬ä»¶å¼•è„šå®šä¹‰åœ¨ `XinDong_Config.h` ä¸­ï¼š
- æ‘„åƒå¤´æ¥å£: P00.1-2 (SCCB), P02.0-7 (æ•°æ®), P00.7-9 (æ§åˆ¶)
- ç”µæœºæ§åˆ¶: P21.2-3 (PWMè¾“å‡º)
- ç¼–ç å™¨: P33.6-7 (æ­£äº¤ç¼–ç )
- IMU/OLED: P13.1-2 (I2C)
- è“ç‰™: P33.8-10 (UART)
- LED/DIPå¼€å…³: P20.7-14

### å‚æ•°è°ƒèŠ‚
- **PIDå‚æ•°**: åœ¨ `Movements.h` ä¸­é…ç½®
- **å›¾åƒé˜ˆå€¼**: åœ¨ `CV.c` ä¸­è°ƒæ•´äºŒå€¼åŒ–é˜ˆå€¼
- **é€šä¿¡å‚æ•°**: åœ¨ `Bluetooth.c` å’Œ `Serial.c` ä¸­è®¾ç½®

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **å›¾åƒå¤„ç†**: 188Ã—120@30fps
- **æ§åˆ¶å‘¨æœŸ**: 50ms (20Hz)
- **å“åº”æ—¶é—´**: <10ms
- **å†…å­˜ä½¿ç”¨**: ~200KB RAM
- **å›¾åƒç¼“å†²**: 67.68KB (3ä¸ªç¼“å†²åŒº)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ å¼€å‘æ—¥å¿—

### v0.1 (å½“å‰ç‰ˆæœ¬)
- âœ… åŸºç¡€æ¡†æ¶æ­å»º
- âœ… å¤šæ ¸é€šä¿¡æœºåˆ¶
- âœ… æ‘„åƒå¤´é©±åŠ¨
- âœ… è®¡ç®—æœºè§†è§‰ç®—æ³•
- âœ… è¿åŠ¨æ§åˆ¶ç³»ç»Ÿ
- ğŸ”„ ä¼ æ„Ÿå™¨èåˆä¼˜åŒ–
- ğŸ”„ é€šä¿¡åè®®å®Œå–„

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Boost Software License - Version 1.0 è®¸å¯è¯ã€‚

## ğŸ‘¥ å›¢é˜Ÿæˆå‘˜

- **é¡¹ç›®è´Ÿè´£äºº**: å´å®—æ¡“
- **ç®—æ³•å¼€å‘**: å»–å®‡è¾‰
- **ç¡¬ä»¶è®¾è®¡**: Duffy
- **ç³»ç»Ÿé›†æˆ**: èŠ¯åŠ¨è®¡åˆ’å›¢é˜Ÿ

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: https://git.tsinghua.edu.cn/wu-zh20/XinDong2025Code
- **æŠ€æœ¯æ”¯æŒ**: é€šè¿‡GitLab Issuesæäº¤é—®é¢˜
- **å›¢é˜Ÿé‚®ç®±**: [è”ç³»é‚®ç®±]

---

**èŠ¯åŠ¨è®¡åˆ’2025** - è®©æ™ºèƒ½è½¦é©°éª‹æœªæ¥ ğŸš—âš¡
